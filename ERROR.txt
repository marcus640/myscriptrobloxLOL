local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local LP = Players.LocalPlayer
local PlayerGui = LP:WaitForChild("PlayerGui")

-- Видаляємо стару версію
if PlayerGui:FindFirstChild("GhostHub_Fixed") then
    PlayerGui.GhostHub_Fixed:Destroy()
end

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "GhostHub_Fixed"
ScreenGui.Parent = PlayerGui
ScreenGui.ResetOnSpawn = false
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- [[ КНОПКА G ]] --
local ToggleBtn = Instance.new("TextButton")
ToggleBtn.Name = "ToggleBtn"
ToggleBtn.Parent = ScreenGui
ToggleBtn.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
ToggleBtn.Position = UDim2.new(0, 100, 0, 100) -- Початкова позиція
ToggleBtn.Size = UDim2.new(0, 55, 0, 55)
ToggleBtn.Text = "G"
ToggleBtn.TextColor3 = Color3.fromRGB(170, 0, 255)
ToggleBtn.Font = Enum.Font.GothamBold
ToggleBtn.TextSize = 25
ToggleBtn.Active = true
ToggleBtn.Draggable = true -- Вмикаємо стандартне перетягування Roblox

local Corner = Instance.new("UICorner", ToggleBtn)
Corner.CornerRadius = UDim.new(1, 0)

local Stroke = Instance.new("UIStroke", ToggleBtn)
Stroke.Color = Color3.fromRGB(170, 0, 255)
Stroke.Thickness = 2

-- [[ ГОЛОВНЕ МЕНЮ ]] --
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
MainFrame.Position = UDim2.new(0.5, -200, 0.5, -125)
MainFrame.Size = UDim2.new(0, 400, 0, 250)
MainFrame.Visible = false -- Спочатку сховано
MainFrame.Active = true
MainFrame.Draggable = true -- Меню теж можна рухати

Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 10)
local MStroke = Instance.new("UIStroke", MainFrame)
MStroke.Color = Color3.fromRGB(170, 0, 255)
MStroke.Thickness = 1

-- Sidebar
local Sidebar = Instance.new("Frame", MainFrame)
Sidebar.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
Sidebar.Size = UDim2.new(0, 100, 1, 0)
local Title = Instance.new("TextLabel", Sidebar)
Title.Text = "GHOST"
Title.TextColor3 = Color3.fromRGB(170, 0, 255)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 18
Title.Size = UDim2.new(1, 0, 0, 40)
Title.BackgroundTransparency = 1

-- Список кнопок (Scrolling)
local Scroll = Instance.new("ScrollingFrame", MainFrame)
Scroll.Position = UDim2.new(0, 110, 0, 10)
Scroll.Size = UDim2.new(1, -120, 1, -20)
Scroll.BackgroundTransparency = 1
Scroll.CanvasSize = UDim2.new(0, 0, 0, 400)
Scroll.ScrollBarThickness = 2
Scroll.ScrollBarImageColor3 = Color3.fromRGB(170, 0, 255)

local Layout = Instance.new("UIListLayout", Scroll)
Layout.Spacing = UDim.new(0, 7)

-- Функція додавання кнопок
local function AddBtn(name, callback)
    local b = Instance.new("TextButton", Scroll)
    b.Size = UDim2.new(0.95, 0, 0, 35)
    b.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    b.Text = name
    b.TextColor3 = Color3.new(1, 1, 1)
    b.Font = Enum.Font.Gotham
    b.TextSize = 14
    Instance.new("UICorner", b)
    b.MouseButton1Click:Connect(callback)
end

-- ТВОЇ СКРИПТИ
AddBtn("Super Ring V6", function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/chesslovers69/Super-ring-parts-v6/refs/heads/main/Bylukaslol"))()
end)

AddBtn("Fly Hack GUI", function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/XNEOFF/FlyGuiV3/main/FlyGuiV3.txt"))()
end)

AddBtn("Infinite Yield", function()
    loadstring(game:HttpGet('https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source'))()
end)

-- [[ ГОЛОВНИЙ ФІКС: ВІДКРИТТЯ ]] --
-- Використовуємо Activated, воно найкраще працює з перетягуванням
ToggleBtn.Activated:Connect(function()
    MainFrame.Visible = not MainFrame.Visible
end)

print("Ghost Hub Fixed Loaded!")
