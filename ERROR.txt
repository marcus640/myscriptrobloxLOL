local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local LP = Players.LocalPlayer
local PlayerGui = LP:WaitForChild("PlayerGui")

-- Очищення старих версій
if PlayerGui:FindFirstChild("GhostStyleHub") then
    PlayerGui.GhostStyleHub:Destroy()
end

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "GhostStyleHub"
ScreenGui.Parent = PlayerGui
ScreenGui.ResetOnSpawn = false

-- [[ НАЛАШТУВАННЯ КОЛЬОРІВ ]] --
local MainColor = Color3.fromRGB(15, 15, 15)
local AccentColor = Color3.fromRGB(170, 0, 255) -- Твій фіолетовий
local TextColor = Color3.fromRGB(240, 240, 240)

-- [[ 1. КНОПКА-ЛОГОТИП (Floating Button) ]] --
local LogoButton = Instance.new("ImageButton")
LogoButton.Name = "GhostLogo"
LogoButton.Parent = ScreenGui
LogoButton.BackgroundColor3 = MainColor
LogoButton.BackgroundTransparency = 0.2
LogoButton.Position = UDim2.new(0.02, 0, 0.8, 0)
LogoButton.Size = UDim2.new(0, 60, 0, 60)
LogoButton.Image = "https://raw.githubusercontent.com/ТВІЙ_ЮЗЕР/РЕПО/main/logo.jpg" -- Встав посилання
LogoButton.ZIndex = 10

local LogoCorner = Instance.new("UICorner", LogoButton)
LogoCorner.CornerRadius = UDim.new(1, 0)

local LogoStroke = Instance.new("UIStroke", LogoButton)
LogoStroke.Color = AccentColor
LogoStroke.Thickness = 2
LogoStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

-- [[ 2. ГОЛОВНЕ ВІКНО (Main Frame) ]] --
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = MainColor
MainFrame.BackgroundTransparency = 0.1
MainFrame.Position = UDim2.new(0.5, -250, 0.5, -150)
MainFrame.Size = UDim2.new(0, 500, 0, 300)
MainFrame.Visible = false
MainFrame.ClipsDescendants = true

local MainCorner = Instance.new("UICorner", MainFrame)
MainCorner.CornerRadius = UDim.new(0, 10)

local MainStroke = Instance.new("UIStroke", MainFrame)
MainStroke.Color = Color3.fromRGB(40, 40, 40)
MainStroke.Thickness = 1

-- [[ 3. БОКОВА ПАНЕЛЬ (Sidebar) ]] --
local Sidebar = Instance.new("Frame")
Sidebar.Name = "Sidebar"
Sidebar.Parent = MainFrame
Sidebar.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
Sidebar.BackgroundTransparency = 0.5
Sidebar.Size = UDim2.new(0, 120, 1, 0)

local SideCorner = Instance.new("UICorner", Sidebar)

local HubTitle = Instance.new("TextLabel", Sidebar)
HubTitle.Text = "GHOST"
HubTitle.Size = UDim2.new(1, 0, 0, 50)
HubTitle.BackgroundTransparency = 1
HubTitle.TextColor3 = AccentColor
HubTitle.Font = Enum.Font.GothamBold
HubTitle.TextSize = 20

-- [[ 4. КОНТЕНТ (Buttons Area) ]] --
local Content = Instance.new("Frame")
Content.Name = "Content"
Content.Parent = MainFrame
Content.Position = UDim2.new(0, 130, 0, 10)
Content.Size = UDim2.new(1, -140, 1, -20)
Content.BackgroundTransparency = 1

local UIList = Instance.new("UIListLayout", Content)
UIList.Spacing = UDim.new(0, 8)
UIList.SortOrder = Enum.SortOrder.LayoutOrder

-- Функція створення кнопок як у GhostHub
local function AddTabButton(name, callback)
    local Btn = Instance.new("TextButton")
    Btn.Parent = Content
    Btn.Size = UDim2.new(1, 0, 0, 40)
    Btn.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    Btn.BackgroundTransparency = 0.3
    Btn.Text = "  " .. name
    Btn.TextColor3 = TextColor
    Btn.Font = Enum.Font.Gotham
    Btn.TextSize = 14
    Btn.TextXAlignment = Enum.TextXAlignment.Left
    
    local BtnCorner = Instance.new("UICorner", Btn)
    local BtnStroke = Instance.new("UIStroke", Btn)
    BtnStroke.Color = Color3.fromRGB(50, 50, 50)
    BtnStroke.Thickness = 1
    
    Btn.MouseButton1Click:Connect(function()
        Btn.BackgroundColor3 = AccentColor
        task.wait(0.1)
        Btn.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
        callback()
    end)
end

-- Додаємо твої скрипти
AddTabButton("Infinite Yield", function()
    loadstring(game:HttpGet('https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source'))()
end)

AddTabButton("Fly Hack GUI", function()
    task.spawn(function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/XNEOFF/FlyGuiV3/main/FlyGuiV3.txt"))()
    end)
end)

AddTabButton("Fling Player (Admin)", function()
    -- Сюди можна вставити код флінга
    print("Fling activated")
end)

-- [[ 5. ЛОГІКА ТА АНІМАЦІЇ ]] --
local function ToggleHub()
    if MainFrame.Visible then
        TweenService:Create(MainFrame, TweenInfo.new(0.3, Enum.EasingStyle.Quart), {BackgroundTransparency = 1, Size = UDim2.new(0, 480, 0, 280)}):Play()
        task.wait(0.3)
        MainFrame.Visible = false
    else
        MainFrame.Size = UDim2.new(0, 480, 0, 280)
        MainFrame.BackgroundTransparency = 1
        MainFrame.Visible = true
        TweenService:Create(MainFrame, TweenInfo.new(0.4, Enum.EasingStyle.OutBack), {BackgroundTransparency = 0.1, Size = UDim2.new(0, 500, 0, 300)}):Play()
    end
end

LogoButton.MouseButton1Click:Connect(ToggleHub)

-- Dragging (Перетягування меню)
local dragStart, startPos
MainFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragStart = input.Position
        startPos = MainFrame.Position
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement and dragStart then
        local delta = input.Position - dragStart
        MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)

MainFrame.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragStart = nil
    end
end)

-- ПЕРЕТЯГУВАННЯ ЛОГОТИПА
local logoDragStart, logoStartPos
LogoButton.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        logoDragStart = input.Position
        logoStartPos = LogoButton.Position
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement and logoDragStart then
        local delta = input.Position - logoDragStart
        LogoButton.Position = UDim2.new(logoStartPos.X.Scale, logoStartPos.X.Offset + delta.X, logoStartPos.Y.Scale, logoStartPos.Y.Offset + delta.Y)
    end
end)

LogoButton.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        logoDragStart = nil
    end
end)
