local LP = game:GetService("Players").LocalPlayer
local UIS = game:GetService("UserInputService")
local UI_NAME = "H2K4R_TABS_V2"

-- Видалення старого
pcall(function()
    if LP.PlayerGui:FindFirstChild(UI_NAME) then LP.PlayerGui[UI_NAME]:Destroy() end
end)

local sg = Instance.new("ScreenGui")
sg.Name = UI_NAME
sg.Parent = LP:WaitForChild("PlayerGui")
sg.ResetOnSpawn = false

-- [[ ГОЛОВНЕ ВІКНО ]] --
local Frame = Instance.new("Frame", sg)
Frame.Size = UDim2.new(0, 320, 0, 400)
Frame.Position = UDim2.new(0.5, -160, 0.5, -200)
Frame.BackgroundColor3 = Color3.fromRGB(10, 0, 0)
Frame.BorderSizePixel = 2
Frame.BorderColor3 = Color3.fromRGB(255, 0, 0)
Frame.Visible = false 
Frame.Active = true

-- ЗАГОЛОВОК (ПЕРЕТЯГУВАННЯ)
local Title = Instance.new("TextButton", Frame)
Title.Size = UDim2.new(1, 0, 0, 35)
Title.BackgroundColor3 = Color3.fromRGB(60, 0, 0)
Title.Text = "H2K4R HUB [TABS]"
Title.TextColor3 = Color3.fromRGB(255, 0, 0)
Title.Font = Enum.Font.Code
Title.TextSize = 16
Title.BorderSizePixel = 0
Title.AutoButtonColor = false

-- ПАНЕЛЬ ТАБІВ
local TabFrame = Instance.new("Frame", Frame)
TabFrame.Size = UDim2.new(1, 0, 0, 35)
TabFrame.Position = UDim2.new(0, 0, 0, 35)
TabFrame.BackgroundColor3 = Color3.fromRGB(30, 0, 0)
TabFrame.BorderSizePixel = 0

local MainTabBtn = Instance.new("TextButton", TabFrame)
MainTabBtn.Size = UDim2.new(0.5, 0, 1, 0)
MainTabBtn.Text = "MAIN"
MainTabBtn.BackgroundColor3 = Color3.fromRGB(50, 0, 0) -- Активний колір
MainTabBtn.TextColor3 = Color3.new(1, 1, 1)
MainTabBtn.Font = Enum.Font.Code

local VisualsTabBtn = Instance.new("TextButton", TabFrame)
VisualsTabBtn.Size = UDim2.new(0.5, 0, 1, 0)
VisualsTabBtn.Position = UDim2.new(0.5, 0, 0, 0)
VisualsTabBtn.Text = "VISUALS"
VisualsTabBtn.BackgroundColor3 = Color3.fromRGB(20, 0, 0)
VisualsTabBtn.TextColor3 = Color3.new(1, 1, 1)
VisualsTabBtn.Font = Enum.Font.Code

-- СКРОЛЛ КОНТЕЙНЕРИ
local MainScroll = Instance.new("ScrollingFrame", Frame)
MainScroll.Size = UDim2.new(1, -10, 1, -80)
MainScroll.Position = UDim2.new(0, 5, 0, 75)
MainScroll.BackgroundTransparency = 1
MainScroll.Visible = true
MainScroll.CanvasSize = UDim2.new(0, 0, 0, 500)
MainScroll.ScrollBarThickness = 3

local VisualsScroll = Instance.new("ScrollingFrame", Frame)
VisualsScroll.Size = UDim2.new(1, -10, 1, -80)
VisualsScroll.Position = UDim2.new(0, 5, 0, 75)
VisualsScroll.BackgroundTransparency = 1
VisualsScroll.Visible = false
VisualsScroll.CanvasSize = UDim2.new(0, 0, 0, 500)
VisualsScroll.ScrollBarThickness = 3

local function AddLayout(s)
    local l = Instance.new("UIListLayout", s)
    l.Padding = UDim.new(0, 5)
end
AddLayout(MainScroll)
AddLayout(VisualsScroll)

-- ФУНКЦІЯ ДОДАВАННЯ КНОПОК
local function Add(name, url, parent)
    local b = Instance.new("TextButton", parent)
    b.Size = UDim2.new(1, -5, 0, 35)
    b.BackgroundColor3 = Color3.fromRGB(25, 0, 0)
    b.BorderSizePixel = 1
    b.BorderColor3 = Color3.fromRGB(200, 0, 0)
    b.Text = "> " .. name
    b.TextColor3 = Color3.new(1, 1, 1)
    b.Font = Enum.Font.Code
    b.TextSize = 13
    b.TextXAlignment = Enum.TextXAlignment.Left
    
    b.MouseButton1Down:Connect(function()
        if type(url) == "string" then
            loadstring(game:HttpGet(url))()
        else
            url()
        end
    end)
end

-- [[ СЕКЦІЯ: MAIN ]] --
Add("SUPER RING V6", "https://raw.githubusercontent.com/chesslovers69/Super-ring-parts-v6/refs/heads/main/Bylukaslol", MainScroll)
Add("FLY GUI V3", "https://raw.githubusercontent.com/XNEOFF/FlyGuiV3/main/FlyGuiV3.txt", MainScroll)
Add("INFINITE JUMP", function()
    local j; j = UIS.JumpRequest:Connect(function()
        if LP.Character then LP.Character:FindFirstChildOfClass("Humanoid"):ChangeState("Jumping") end
    end)
end, MainScroll)
Add("ANTI AFK", "https://raw.githubusercontent.com/hassanxzayn-lua/Anti-afk/main/antiafkbyhassanxzyn", MainScroll)
Add("TP TOOL", function()
    local t = Instance.new("Tool", LP.Backpack)
    t.Name = "H2K4R TP"; t.RequiresHandle = false
    t.Activated:Connect(function() 
        LP.Character.HumanoidRootPart.CFrame = LP:GetMouse().Hit + Vector3.new(0,3,0) 
    end)
end, MainScroll)
Add("PVP SHOOTER", "https://raw.githubusercontent.com/eugenevir/guihot/main/f.txt", MainScroll)
Add("INFINITE YIELD", "https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source", MainScroll)

-- [[ СЕКЦІЯ: VISUALS ]] --
-- Твій новий скрипт The Angel (Raw посилання)
Add("THE ANGEL", "https://raw.githubusercontent.com/marcus640/myscriptrobloxLOL/main/theangel.txt", VisualsScroll)
-- Твій попередній скрипт
Add("MY CUSTOM SCRIPT", "https://raw.githubusercontent.com/marcus640/myscriptrobloxLOL/main/script.lua", VisualsScroll)
Add("ESP (See Players)", "https://raw.githubusercontent.com/pika-scripts/Universal-ESP/main/Script.lua", VisualsScroll)
Add("FULLBRIGHT", function()
    game:GetService("Lighting").Brightness = 2
    game:GetService("Lighting").ClockTime = 14
    game:GetService("Lighting").GlobalShadows = false
end, VisualsScroll)
Add("ANIMATIONS", "https://raw.githubusercontent.com/7yd7/Hub/refs/heads/Branch/GUIS/Emotes.lua", VisualsScroll)

-- [[ ЛОГІКА ПЕРЕМИКАННЯ ]] --
MainTabBtn.MouseButton1Down:Connect(function()
    MainScroll.Visible, VisualsScroll.Visible = true, false
    MainTabBtn.BackgroundColor3 = Color3.fromRGB(50, 0, 0)
    VisualsTabBtn.BackgroundColor3 = Color3.fromRGB(20, 0, 0)
end)

VisualsTabBtn.MouseButton1Down:Connect(function()
    MainScroll.Visible, VisualsScroll.Visible = false, true
    MainTabBtn.BackgroundColor3 = Color3.fromRGB(20, 0, 0)
    VisualsTabBtn.BackgroundColor3 = Color3.fromRGB(50, 0, 0)
end)

-- РУХ (ЗА ЗАГОЛОВОК)
local drag, dStart, sPos
Title.InputBegan:Connect(function(i)
    if i.UserInputType == Enum.UserInputType.MouseButton1 then drag = true dStart = i.Position sPos = Frame.Position end
end)
UIS.InputChanged:Connect(function(i)
    if drag and i.UserInputType == Enum.UserInputType.MouseMovement then
        local delta = i.Position - dStart
        Frame.Position = UDim2.new(sPos.X.Scale, sPos.X.Offset + delta.X, sPos.Y.Scale, sPos.Y.Offset + delta.Y)
    end
end)
UIS.InputEnded:Connect(function(i) if i.UserInputType == Enum.UserInputType.MouseButton1 then drag = false end end)

-- КНОПКА ВІДКРИТТЯ
local OpenBtn = Instance.new("TextButton", sg)
OpenBtn.Size = UDim2.new(0, 80, 0, 40)
OpenBtn.Position = UDim2.new(0, 5, 0.5, -20) 
OpenBtn.BackgroundColor3 = Color3.fromRGB(150, 0, 0)
OpenBtn.Text = "[ OPEN ]"
OpenBtn.TextColor3 = Color3.new(1,1,1)
OpenBtn.Font = Enum.Font.Code
OpenBtn.BorderSizePixel = 2
OpenBtn.BorderColor3 = Color3.new(0,0,0)

OpenBtn.MouseButton1Down:Connect(function()
    Frame.Visible = not Frame.Visible
    OpenBtn.Text = Frame.Visible and "[ CLOSE ]" or "[ OPEN ]"
end)
